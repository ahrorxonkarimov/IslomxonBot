<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Islomxon Jome Masjidi</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { background: #43AB34; font-family: sans-serif; padding:20px; color:white; }
    .card { background: rgba(255,255,255,0.15); padding:20px; border-radius:20px; max-width:400px; margin:auto; }
    label { display:block; margin-top:10px; }
    input, textarea { width:100%; padding:8px; border:none; border-radius:10px; margin-top:4px; }
    button { margin-top:16px; padding:12px; border:none; border-radius:12px; width:100%; cursor:pointer; font-weight:600; }
    #preview { background: rgba(0,0,0,0.2); padding:10px; border-radius:12px; margin-top:12px; display:none; white-space:pre-line; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Islomxon Jome Masjidi</h2>
    <p>Bugungi namoz vaqtlarini kiriting</p>

    <label>Sana</label><input type="date" id="date">
    <label>Bomdod</label><input type="time" id="bomdod">
    <label>Peshin</label><input type="time" id="peshin">
    <label>Asr</label><input type="time" id="asr">
    <label>Shom</label><input type="time" id="shom">
    <label>Hufton</label><input type="time" id="hufton">
    <label>Izoh</label><textarea id="izoh">‚è≥–ù–∞–º–æ–∑–Ω–∏ –∞–¥–æ —ç—Ç–≥–∞–Ω–∏–Ω–≥–∏–∑–¥–∞–Ω —Å—û–Ω–≥, –ê–ª–ª–æ“≥–Ω–∏ —Ç—É—Ä–≥–∞–Ω, —û—Ç–∏—Ä–≥–∞–Ω –≤–∞ —ë–Ω–±–æ—à–ª–∞–≥–∞–Ω “≥–æ–ª–∏–Ω–≥–∏–∑–¥–∞ —ç—Å–ª–∞–Ω–≥. –•–æ—Ç–∏—Ä–∂–∞–º –±—û–ª–≥–∞–Ω–∏–Ω–≥–∏–∑–¥–∞ –Ω–∞–º–æ–∑–Ω–∏ —Ç—û–ª–∏“õ –∞–¥–æ —ç—Ç–∏–Ω–≥. –ê–ª–±–∞—Ç—Ç–∞, –Ω–∞–º–æ–∑ –º—û–º–∏–Ω–ª–∞—Ä–≥–∞ –≤–∞“õ—Ç–∏–¥–∞ —Ñ–∞—Ä–∑ “õ–∏–ª–∏–Ω–≥–∞–Ω–¥–∏—Ä. (–ù–∏—Å–æ —Å—É—Ä–∞—Å–∏ 103-–æ—è—Ç) üìç “≤—É–¥—É–¥–∏–Ω–≥–∏–∑ —É—á—É–Ω —Ç—û“ì—Ä–∏ –≤–∞“õ—Ç–¥–∞ –∏–±–æ–¥–∞—Ç–Ω–∏ –∞–¥–æ —ç—Ç–∏–Ω–≥. –ê–ª–ª–æ“≥ “≥–∞—Ä –±–∏—Ä “õ–∞–¥–∞–º–∏–º–∏–∑–Ω–∏ —Å–∞–≤–æ–±–ª–∏ “õ–∏–ª—Å–∏–Ω! üì§–£—à–±—É –º–∞—ä–ª—É–º–æ—Ç–Ω–∏ —è“õ–∏–Ω–ª–∞—Ä–∏–∑–≥–∞ —É–ª–∞—à–∏–± —Å–∞–≤–æ–±–∏–º–∏–∑–≥–∞ —à–µ—Ä–∏–∫ –±—û–ª–∏–Ω–≥!</textarea>

    <button onclick="showPreview()">Ko‚Äòrish</button>
    <div id="preview"></div>
    <button id="sendBtn" onclick="sendData()" style="display:none; background:#4CAF50; color:white;">YUBORISH</button>
  </div>

  <script>
    document.getElementById('date').value = new Date().toISOString().split('T')[0];

    function showPreview() {
      const d = {
        date: document.getElementById('date').value,
        bomdod: document.getElementById('bomdod').value,
        peshin: document.getElementById('peshin').value,
        asr: document.getElementById('asr').value,
        shom: document.getElementById('shom').value,
        hufton: document.getElementById('hufton').value,
        izoh: document.getElementById('izoh').value.trim()
      };

      if (!d.date || !d.bomdod || !d.peshin || !d.asr || !d.shom || !d.hufton) {
        alert('Barcha vaqtlar to‚Äòldirilsin!');
        return;
      }

      const text = `Islomxon jome masjidi

Sana: ${d.date}
Bomdod: ${d.bomdod}
Peshin: ${d.peshin}
Asr: ${d.asr}
Shom: ${d.shom}
Hufton: ${d.hufton}

${d.izoh}

Hududingiz uchun to'g'ri vaqtlarda namoz o'qing!`;

      document.getElementById('preview').innerText = text;
      document.getElementById('preview').style.display = 'block';
      document.getElementById('sendBtn').style.display = 'block';
    }

    function sendData() {
      const d = {
        date: document.getElementById('date').value,
        bomdod: document.getElementById('bomdod').value,
        peshin: document.getElementById('peshin').value,
        asr: document.getElementById('asr').value,
        shom: document.getElementById('shom').value,
        hufton: document.getElementById('hufton').value,
        izoh: document.getElementById('izoh').value.trim()
      };
      Telegram.WebApp.sendData(JSON.stringify(d));
      Telegram.WebApp.close();
    }
  </script>
</body>
</html>
