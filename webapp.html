<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Islomxon Jome Masjidi</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background: linear-gradient(135deg,#1B5E20,#43AB34); font-family:sans-serif; color:white; padding:20px; min-height:100vh; display:flex; align-items:center; justify-content:center; }
  .card { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius:25px; padding:30px; max-width:400px; width:100%; box-shadow:0 8px 25px rgba(0,0,0,0.3); }
  h1 { text-align:center; margin-bottom:5px; font-size:24px; font-weight:600; }
  p.subtitle { text-align:center; font-size:14px; opacity:0.8; margin-bottom:20px; }
  .field { margin-bottom:15px; }
  label { display:block; margin-bottom:5px; font-weight:500; }
  input, textarea { width:100%; padding:12px; border:none; border-radius:12px; background:rgba(255,255,255,0.2); color:white; font-size:16px; }
  textarea { height:90px; resize:none; }
  .btn { width:100%; padding:14px; border:none; border-radius:14px; background:#FFFFFF; color:#1B5E20; font-size:16px; font-weight:600; cursor:pointer; margin-top:10px; transition:.2s; }
  .btn:hover { transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,0.3); }
  .preview { margin-top:10px; padding:14px; border-radius:12px; background:rgba(0,0,0,0.2); display:none; white-space:pre-line; }
  .preview.show { display:block; }
</style>
</head>
<body>
<div class="card">
<h1>Islomxon Jome Masjidi</h1>
<p class="subtitle">Bugungi namoz vaqtlarini kiriting</p>

<div class="field"><label>Sana</label><input type="date" id="date"></div>
<div class="field"><label>Bomdod</label><input type="time" id="bomdod"></div>
<div class="field"><label>Peshin</label><input type="time" id="peshin"></div>
<div class="field"><label>Asr</label><input type="time" id="asr"></div>
<div class="field"><label>Shom</label><input type="time" id="shom"></div>
<div class="field"><label>Hufton</label><input type="time" id="hufton"></div>
<div class="field"><label>Izoh</label>
<textarea id="izoh">‚è≥–ù–∞–º–æ–∑–Ω–∏ –∞–¥–æ —ç—Ç–≥–∞–Ω–∏–Ω–≥–∏–∑–¥–∞–Ω —Å—û–Ω–≥, –ê–ª–ª–æ“≥–Ω–∏ —Ç—É—Ä–≥–∞–Ω, —û—Ç–∏—Ä–≥–∞–Ω –≤–∞ —ë–Ω–±–æ—à–ª–∞–≥–∞–Ω “≥–æ–ª–∏–Ω–≥–∏–∑–¥–∞ —ç—Å–ª–∞–Ω–≥. –•–æ—Ç–∏—Ä–∂–∞–º –±—û–ª–≥–∞–Ω–∏–Ω–≥–∏–∑–¥–∞ –Ω–∞–º–æ–∑–Ω–∏ —Ç—û–ª–∏“õ –∞–¥–æ —ç—Ç–∏–Ω–≥. –ê–ª–±–∞—Ç—Ç–∞, –Ω–∞–º–æ–∑ –º—û–º–∏–Ω–ª–∞—Ä–≥–∞ –≤–∞“õ—Ç–∏–¥–∞ —Ñ–∞—Ä–∑ “õ–∏–ª–∏–Ω–≥–∞–Ω–¥–∏—Ä. (–ù–∏—Å–æ —Å—É—Ä–∞—Å–∏ 103-–æ—è—Ç) üìç “≤—É–¥—É–¥–∏–Ω–≥–∏–∑ —É—á—É–Ω —Ç—û“ì—Ä–∏ –≤–∞“õ—Ç–¥–∞ –∏–±–æ–¥–∞—Ç–Ω–∏ –∞–¥–æ —ç—Ç–∏–Ω–≥. –ê–ª–ª–æ“≥ “≥–∞—Ä –±–∏—Ä “õ–∞–¥–∞–º–∏–º–∏–∑–Ω–∏ —Å–∞–≤–æ–±–ª–∏ “õ–∏–ª—Å–∏–Ω! üì§–£—à–±—É –º–∞—ä–ª—É–º–æ—Ç–Ω–∏ —è“õ–∏–Ω–ª–∞—Ä–∏–∑–≥–∞ —É–ª–∞—à–∏–± —Å–∞–≤–æ–±–∏–º–∏–∑–≥–∞ —à–µ—Ä–∏–∫ –±—û–ª–∏–Ω–≥!</textarea></div>

<button class="btn" onclick="showPreview()">Ko‚Äòrish</button>
<div id="preview" class="preview"></div>
<button class="btn" id="sendBtn" onclick="sendData()" style="display:none; background:#4CAF50; color:white;">YUBORISH</button>
</div>

<script>
document.getElementById('date').value = new Date().toISOString().split('T')[0];

function showPreview(){
  const d={
    date:document.getElementById('date').value,
    bomdod:document.getElementById('bomdod').value,
    peshin:document.getElementById('peshin').value,
    asr:document.getElementById('asr').value,
    shom:document.getElementById('shom').value,
    hufton:document.getElementById('hufton').value,
    izoh:document.getElementById('izoh').value.trim()
  };
  if(!d.date||!d.bomdod||!d.peshin||!d.asr||!d.shom||!d.hufton){alert('Barcha vaqtlar to‚Äòldirilsin!');return;}
  const text=`Islomxon jome masjidi

Sana: ${d.date}
Bomdod: ${d.bomdod}
Peshin: ${d.peshin}
Asr: ${d.asr}
Shom: ${d.shom}
Hufton: ${d.hufton}

${d.izoh}

Hududingiz uchun to'g'ri vaqtlarda namoz o'qing!
Allah qabul qilsin!`;

  document.getElementById('preview').innerText=text;
  document.getElementById('preview').classList.add('show');
  document.getElementById('sendBtn').style.display='block';
  document.querySelector('.btn').style.display='none';
}

function sendData(){
  const d={
    date:document.getElementById('date').value,
    bomdod:document.getElementById('bomdod').value,
    peshin:document.getElementById('peshin').value,
    asr:document.getElementById('asr').value,
    shom:document.getElementById('shom').value,
    hufton:document.getElementById('hufton').value,
    izoh:document.getElementById('izoh').value.trim()
  };
  Telegram.WebApp.sendData(JSON.stringify(d));
  Telegram.WebApp.close();
}
</script>
</body>
</html>
